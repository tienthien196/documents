"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2341],{3222:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"ArchNetwork/module/DNS","title":"DNS","description":"T\xe0i li\u1ec7u n\xe0y l\xe0 ph\u1ea7n n\u1ed1i ti\u1ebfp b\u1ed9 Network/VPN/Ports: t\u1eadp trung v\xe0o c\xe1ch DNS ho\u1ea1t \u0111\u1ed9ng \u1edf m\u1ee9c h\u1ec7 th\u1ed1ng, c\u1ea5u tr\xfac b\u1ea3n ghi, tri\u1ec3n khai, b\u1ea3o m\u1eadt (DNSSEC, DoH/DoT), v\xe0 troubleshooting.","source":"@site/docs/ArchNetwork/module/DNS.md","sourceDirName":"ArchNetwork/module","slug":"/ArchNetwork/module/DNS","permalink":"/ecosys.documents/docs/ArchNetwork/module/DNS","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"DNS","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Networks","permalink":"/ecosys.documents/docs/ArchNetwork/module/Networks"},"next":{"title":"Physical","permalink":"/ecosys.documents/docs/ArchNetwork/module/Physical"}}');var s=i(4848),h=i(8453);const l={title:"DNS",sidebar_position:4},t="\ud83c\udf10 DNS (Domain Name System)",c={},o=[{value:"Lu\u1ed3ng ph\xe2n gi\u1ea3i DNS",id:"lu\u1ed3ng-ph\xe2n-gi\u1ea3i-dns",level:2},{value:"1 DNS l\xe0 g\xec? (What &amp; Why)",id:"1-dns-l\xe0-g\xec-what--why",level:2},{value:"M\xe1y t\xednh hi\u1ec3u IP, con ng\u01b0\u1eddi th\xec bi\u1ebft domain -&gt; D\xf9ng DNS",id:"m\xe1y-t\xednh-hi\u1ec3u-ip-con-ng\u01b0\u1eddi-th\xec-bi\u1ebft-domain---d\xf9ng-dns",level:3},{value:"2 Th\xe0nh ph\u1ea7n trong h\u1ec7 sinh th\xe1i DNS",id:"2-th\xe0nh-ph\u1ea7n-trong-h\u1ec7-sinh-th\xe1i-dns",level:2},{value:"Lu\u1ed3ng ph\xe2n gi\u1ea3i (\u0111\u01a1n gi\u1ea3n ho\xe1)",id:"lu\u1ed3ng-ph\xe2n-gi\u1ea3i-\u0111\u01a1n-gi\u1ea3n-ho\xe1",level:3},{value:"3 Zone, Delegation &amp; Glue",id:"3-zone-delegation--glue",level:2},{value:"4 C\xe1c lo\u1ea1i b\u1ea3n ghi (Record Types) -&gt; D\xe1nh d\u1ea5u IP",id:"4-c\xe1c-lo\u1ea1i-b\u1ea3n-ghi-record-types---d\xe1nh-d\u1ea5u-ip",level:2},{value:"5 Caching &amp; TTL (v\xe0 \u201cPropagation\u201d)",id:"5-caching--ttl-v\xe0-propagation",level:2},{value:"6 Recursion Control, Forwarder, Split-Horizon",id:"6-recursion-control-forwarder-split-horizon",level:2},{value:"7 DNSSEC, DoT/DoH/DoQ &amp; B\u1ea3o m\u1eadt",id:"7-dnssec-dotdohdoq--b\u1ea3o-m\u1eadt",level:2},{value:"8 Tooling &amp; Troubleshooting (dig/nslookup/drill/kdig)",id:"8-tooling--troubleshooting-dignslookupdrillkdig",level:2},{value:"9 Th\u1ef1c ti\u1ec5n t\u1ed1t (Best Practices)",id:"9-th\u1ef1c-ti\u1ec5n-t\u1ed1t-best-practices",level:2},{value:"10 Ph\u1ee5 l\u1ee5c: S\u01a1 \u0111\u1ed3 t\u1ed5ng quan",id:"10-ph\u1ee5-l\u1ee5c-s\u01a1-\u0111\u1ed3-t\u1ed5ng-quan",level:2},{value:"T\xf3m t\u1eaft",id:"t\xf3m-t\u1eaft",level:3},{value:"<em><strong>NOTE</strong></em>",id:"note",level:3}];function d(n){const e={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,h.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"-dns-domain-name-system",children:"\ud83c\udf10 DNS (Domain Name System)"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:["T\xe0i li\u1ec7u n\xe0y l\xe0 ph\u1ea7n n\u1ed1i ti\u1ebfp b\u1ed9 ",(0,s.jsx)(e.strong,{children:"Network/VPN/Ports"}),": t\u1eadp trung v\xe0o c\xe1ch DNS ho\u1ea1t \u0111\u1ed9ng \u1edf m\u1ee9c h\u1ec7 th\u1ed1ng, c\u1ea5u tr\xfac b\u1ea3n ghi, tri\u1ec3n khai, b\u1ea3o m\u1eadt (DNSSEC, DoH/DoT), v\xe0 troubleshooting."]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"lu\u1ed3ng-ph\xe2n-gi\u1ea3i-dns",children:"Lu\u1ed3ng ph\xe2n gi\u1ea3i DNS"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"+-----------+        query         +------------------+\n|  Client   | -------------------\x3e | Recursive Resolver|\n| (Stub)    |                      +---------+--------+\n+-----------+                                |\n                                             | referrals\n                                   +---------v----------+\n                                   |   Root (.)  NS     |\n                                   +---------+----------+\n                                             |\n                                   +---------v----------+\n                                   |     TLD (.com)     |\n                                   +---------+----------+\n                                             |\n                                   +---------v----------+\n                                   | Authoritative NS   |\n                                   +---------+----------+\n                                             |\n                                           answer\n                                             |\n+-----------+                                |\n|  Client   | <------------------------------+\n+-----------+\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"1-dns-l\xe0-g\xec-what--why",children:"1 DNS l\xe0 g\xec? (What & Why)"}),"\n",(0,s.jsx)(e.h3,{id:"m\xe1y-t\xednh-hi\u1ec3u-ip-con-ng\u01b0\u1eddi-th\xec-bi\u1ebft-domain---d\xf9ng-dns",children:"M\xe1y t\xednh hi\u1ec3u IP, con ng\u01b0\u1eddi th\xec bi\u1ebft domain -> D\xf9ng DNS"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"DNS"})," l\xe0 h\u1ec7 th\u1ed1ng ph\xe2n gi\u1ea3i t\xean mi\u1ec1n : doamin name -> IP"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Ng\u01b0\u1eddi d\xf9ng g\xf5 ",(0,s.jsx)(e.code,{children:"example.com"})," \u2192 h\u1ec7 th\u1ed1ng tr\u1ea3 v\u1ec1 ",(0,s.jsx)(e.strong,{children:"A/AAAA"})," (IPv4/IPv6)."]}),"\n",(0,s.jsx)(e.li,{children:"\u1ee8ng d\u1ee5ng/OS kh\xf4ng ph\u1ea3i nh\u1edb IP, d\u1ec5 thay \u0111\u1ed5i ki\u1ebfn tr\xfac h\u1ea1 t\u1ea7ng m\xe0 kh\xf4ng l\xe0m gi\xe1n \u0111o\u1ea1n ng\u01b0\u1eddi d\xf9ng."}),"\n",(0,s.jsx)(e.li,{children:"DNS c\xf2n l\xe0m nhi\u1ec1u vi\u1ec7c h\u01a1n: email routing (MX), service discovery (SRV), ch\xednh s\xe1ch b\u1ea3o m\u1eadt/\u1ee7y quy\u1ec1n (TXT, CAA)\u2026"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"C\u1ed5ng & giao th\u1ee9c m\u1eb7c \u0111\u1ecbnh"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Port ",(0,s.jsx)(e.strong,{children:"53/UDP"})," (truy v\u1ea5n th\xf4ng th\u01b0\u1eddng), ",(0,s.jsx)(e.strong,{children:"53/TCP"})," (truy v\u1ea5n l\u1edbn/AXFR/IXFR ho\u1eb7c khi UDP b\u1ecb ch\u1eb7n/fragment)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"DoT (DNS over TLS)"}),": TCP ",(0,s.jsx)(e.strong,{children:"853"})," M\xe3 h\xf3a DNS, tr\xe1nh b\u1ecb nghe l\xe9n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"DoH (DNS over HTTPS)"}),": ",(0,s.jsx)(e.strong,{children:"443"})," (qua HTTPS) G\u1eedi DNS qua HTTPS (\u1ea9n trong web)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"DoQ (DNS over QUIC)"}),": UDP ",(0,s.jsx)(e.strong,{children:"853"})," (\u0111\u01b0\u1ee3c IANA c\u1ea5p ph\xe1t) Nhanh h\u01a1n DoH, \xedt \u0111\u1ed9 tr\u1ec5"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"2-th\xe0nh-ph\u1ea7n-trong-h\u1ec7-sinh-th\xe1i-dns",children:"2 Th\xe0nh ph\u1ea7n trong h\u1ec7 sinh th\xe1i DNS"}),"\n",(0,s.jsx)(e.h3,{id:"lu\u1ed3ng-ph\xe2n-gi\u1ea3i-\u0111\u01a1n-gi\u1ea3n-ho\xe1",children:"Lu\u1ed3ng ph\xe2n gi\u1ea3i (\u0111\u01a1n gi\u1ea3n ho\xe1)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ascii",children:"[App/OS]\n   \u2502 1. Query: example.com A?\n   \u25bc\n[Recursive Resolver]\n   \u2502 2. H\u1ecfi root (.) \u2192 ch\u1ec9 \u0111\u1ebfn .com\n   \u25bc\n[. Root NS]\n   \u2502 3. H\u1ecfi .com \u2192 ch\u1ec9 \u0111\u1ebfn NS c\u1ee7a example.com\n   \u25bc\n[.com TLD NS]\n   \u2502 4. H\u1ecfi NS c\u1ee7a zone example.com\n   \u25bc\n[Authoritative NS for example.com]\n   \u2502 5. Tr\u1ea3 l\u1eddi A 93.184.216.34 (k\xe8m TTL)\n   \u25bc\n[Recursive Resolver] (cache)\n   \u2502 6. Tr\u1ea3 v\u1ec1 client (t\xf4n tr\u1ecdng TTL)\n   \u25bc\n[App/OS]\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Stub Resolver"})," (tr\xean OS/app): h\u1ecfi recursive resolver."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Recursive Resolver"})," (c\xf2n g\u1ecdi \u201cresolver\u201d/\u201ccaching resolver\u201d): nh\u1eadn t\u1eeb client -> h\u1ecfi  ",(0,s.jsx)(e.strong,{children:"authoritative"})," v\xe0 ",(0,s.jsx)(e.strong,{children:"cache"})," k\u1ebft qu\u1ea3."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Authoritative Nameserver"}),": m\xe1y ch\u1ee7 ",(0,s.jsx)(e.strong,{children:"c\xf3 th\u1ea9m quy\u1ec1n"})," cho m\u1ed9t zone (tr\u1ea3 l\u1eddi d\u1eef li\u1ec7u g\u1ed1c)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Registrar"}),": n\u01a1i \u0111\u0103ng k\xfd t\xean mi\u1ec1n (li\xean k\u1ebft domain \u2194 nameserver th\xf4ng qua ",(0,s.jsx)(e.strong,{children:"NS"})," t\u1ea1i registry)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Registry / TLD"}),": c\u01a1 quan qu\u1ea3n l\xfd TLD (v\xed d\u1ee5 ",(0,s.jsx)(e.code,{children:".com"}),", ",(0,s.jsx)(e.code,{children:".vn"}),")."]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"3-zone-delegation--glue",children:"3 Zone, Delegation & Glue"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Zone"}),": ph\u1ea1m vi d\u1eef li\u1ec7u DNS \u0111\u01b0\u1ee3c qu\u1ea3n tr\u1ecb th\u1ed1ng nh\u1ea5t (v\xed d\u1ee5: zone ",(0,s.jsx)(e.code,{children:"example.com."})," trong file zone)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Delegation"}),": \u1ee7y quy\u1ec1n m\u1ed9t nh\xe1nh con cho zone kh\xe1c (v\xed d\u1ee5: ",(0,s.jsx)(e.code,{children:"dev.example.com"})," do team kh\xe1c qu\u1ea3n l\xfd)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Glue Record"}),": Khi NS c\u1ee7a zone con d\xf9ng ",(0,s.jsx)(e.strong,{children:"hostname n\u1eb1m trong ch\xednh zone \u0111\xf3"}),", c\u1ea7n b\u1ea3n ghi ",(0,s.jsx)(e.strong,{children:"A/AAAA \u201cke\u0300m keo\u201d"})," \u1edf zone cha \u0111\u1ec3 tr\xe1nh v\xf2ng l\u1eb7p tra c\u1ee9u."]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ascii",children:"Parent Zone: example.com.\n  dev.example.com.  NS   ns1.dev.example.com.\n  ns1.dev.example.com.  A  203.0.113.10   ; <-- glue t\u1ea1i zone cha\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"4-c\xe1c-lo\u1ea1i-b\u1ea3n-ghi-record-types---d\xe1nh-d\u1ea5u-ip",children:"4 C\xe1c lo\u1ea1i b\u1ea3n ghi (Record Types) -> D\xe1nh d\u1ea5u IP"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"A"}),": t\xean \u2192 IPv4"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"AAAA"}),": t\xean \u2192 IPv6"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"CNAME"}),": b\xed danh (alias) \u2192 ",(0,s.jsx)(e.em,{children:"canonical name"}),". Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1eb7t CNAME \u1edf ",(0,s.jsx)(e.strong,{children:"apex"})," (g\u1ed1c zone), tr\u1eeb gi\u1ea3i ph\xe1p ",(0,s.jsx)(e.strong,{children:"ALIAS/ANAME"})," c\u1ee7a m\u1ed9t s\u1ed1 DNS providers."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"MX"}),": \u0111\u1ecbnh tuy\u1ebfn email (\u01b0u ti\xean th\u1ea5p h\u01a1n = \u01b0u ti\xean cao h\u01a1n)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"TXT"}),": \u0111a d\u1ee5ng (SPF, DKIM, DMARC, domain verification\u2026)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"NS"}),": ch\u1ec9 \u0111\u1ecbnh nameserver c\xf3 th\u1ea9m quy\u1ec1n cho (sub)zone."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"SOA"}),": th\xf4ng tin zone (serial, refresh, retry, expire, minimum/negative TTL)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"SRV"}),": service discovery (v\xed d\u1ee5 ",(0,s.jsx)(e.code,{children:"_sip._tcp.example.com"}),")."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"CAA"}),": ch\u1ec9 \u0111\u1ecbnh CA n\xe0o \u0111\u01b0\u1ee3c ph\xe9p ph\xe1t h\xe0nh ch\u1ee9ng ch\u1ec9 cho domain."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"PTR"}),": reverse DNS (IP \u2192 t\xean). Qu\u1ea3n l\xfd b\u1edfi ch\u1ee7 s\u1edf h\u1eefu block IP (th\u01b0\u1eddng l\xe0 ISP/Cloud)."]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["V\xed d\u1ee5 ",(0,s.jsx)(e.strong,{children:"zone file"})," r\xfat g\u1ecdn:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-zone",children:'$ORIGIN example.com.\n$TTL 3600\n@       IN SOA  ns1.example.net. hostmaster.example.com. (\n            20250822 ; serial (YYYYMMDD or increment)\n            7200     ; refresh\n            3600     ; retry\n            1209600  ; expire\n            300 )    ; negative caching (min TTL/NX)\n\n        IN NS   ns1.example.net.\n        IN NS   ns2.example.net.\n\n; Web\n@       IN A    203.0.113.20\n@       IN AAAA 2001:db8::20\nwww     IN CNAME @\n\n; Email\n@       IN MX 10 mail.example.com.\nmail    IN A 203.0.113.30\n_dmarc  IN TXT "v=DMARC1; p=quarantine; rua=mailto:dmarc@example.com"\n@       IN TXT "v=spf1 ip4:203.0.113.30 -all"\nselector1._domainkey IN TXT "v=DKIM1; k=rsa; p=MIIBI..."\n\n; Service Discovery\n_sip._tcp IN SRV 10 60 5060 sip1.example.com.\nsip1     IN A 203.0.113.40\n\n; Certificate policy\n@       IN CAA 0 issue "letsencrypt.org"\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"5-caching--ttl-v\xe0-propagation",children:"5 Caching & TTL (v\xe0 \u201cPropagation\u201d)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"TTL"})," (Time To Live) quy\u1ebft \u0111\u1ecbnh th\u1eddi gian b\u1ea3n ghi \u0111\u01b0\u1ee3c gi\u1eef trong cache c\u1ee7a resolver/OS/browser."]}),"\n",(0,s.jsxs)(e.li,{children:["Thay \u0111\u1ed5i DNS ",(0,s.jsx)(e.strong,{children:"kh\xf4ng \u201clan\u201d ngay l\u1eadp t\u1ee9c"})," \u2013 s\u1ebd ph\u1ee5 thu\u1ed9c TTL c\xf2n l\u1ea1i trong cache."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Negative Caching"})," (NXDOMAIN/NODATA) d\xf9ng gi\xe1 tr\u1ecb trong ",(0,s.jsx)(e.strong,{children:"SOA minimum"})," / RFC 2308."]}),"\n",(0,s.jsxs)(e.li,{children:["Chi\u1ebfn l\u01b0\u1ee3c deploy: h\u1ea1 TTL (v\xed d\u1ee5 300s) ",(0,s.jsx)(e.strong,{children:"tr\u01b0\u1edbc"})," khi c\u1eaft chuy\u1ec3n, \u0111\u1ee3i TTL c\u0169 h\u1ebft, r\u1ed3i c\u1eadp nh\u1eadt b\u1ea3n ghi."]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"6-recursion-control-forwarder-split-horizon",children:"6 Recursion Control, Forwarder, Split-Horizon"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Open Resolver"})," (\u0111\u1ec3 Internet truy v\u1ea5n t\xf9y \xfd) \u2192 ",(0,s.jsx)(e.strong,{children:"KH\xd4NG KHUY\xcaN D\xd9NG"})," (r\u1ee7i ro DDoS amplification, l\u1ea1m d\u1ee5ng). Ch\u1ec9 b\u1eadt recursion cho m\u1ea1ng n\u1ed9i b\u1ed9/trusted."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Forwarder"}),": Resolver chuy\u1ec3n to\xe0n b\u1ed9 truy v\u1ea5n \u0111\u1ebfn m\u1ed9t upstream (v\xed d\u1ee5 public DNS nh\u01b0 1.1.1.1/8.8.8.8) \u0111\u1ec3 \u0111\u01a1n gi\u1ea3n ho\xe1 qu\u1ea3n tr\u1ecb/ghi log."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Split-Horizon / Split-Brain DNS"}),": C\xf9ng m\u1ed9t t\xean nh\u01b0ng tr\u1ea3 IP kh\xe1c nhau cho ",(0,s.jsx)(e.strong,{children:"internal"})," vs ",(0,s.jsx)(e.strong,{children:"public"})," (h\u1eefu \xedch cho hybrid cloud, zero-trust)."]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"7-dnssec-dotdohdoq--b\u1ea3o-m\u1eadt",children:"7 DNSSEC, DoT/DoH/DoQ & B\u1ea3o m\u1eadt"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"DNSSEC"}),": K\xfd s\u1ed1 d\u1eef li\u1ec7u DNS \u0111\u1ec3 ch\u1ed1ng gi\u1ea3 m\u1ea1o (origin authentication, data integrity). G\u1ed3m c\xe1c b\u1ea3n ghi ",(0,s.jsx)(e.strong,{children:"RRSIG, DNSKEY, DS, NSEC/NSEC3"}),".","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Chain of trust: Root (.) \u2192 TLD \u2192 Domain (DS record t\u1ea1i zone cha tr\u1ecf \u0111\u1ebfn DNSKEY c\u1ee7a zone con)."}),"\n",(0,s.jsxs)(e.li,{children:["Tri\u1ec3n khai c\u1ea7n xoay ",(0,s.jsx)(e.strong,{children:"key rollover"})," \u0111\xfang quy tr\xecnh."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"DoT (DNS over TLS)"}),": M\xe3 ho\xe1 truy v\u1ea5n DNS qua TLS (port 853)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"DoH (DNS over HTTPS)"}),": DNS qua HTTPS (port 443), d\u1ec5 v\u01b0\u1ee3t proxy/ki\u1ec3m duy\u1ec7t, t\xedch h\u1ee3p tr\xecnh duy\u1ec7t."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"DoQ (DNS over QUIC)"}),": \u0110\u1ed9 tr\u1ec5 th\u1ea5p, tr\xe1nh head-of-line blocking (UDP 853)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"TSIG"}),": K\xfd MAC (symmetric) \u0111\u1ec3 b\u1ea3o v\u1ec7 ",(0,s.jsx)(e.strong,{children:"zone transfer"})," (AXFR/IXFR) & dynamic updates."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"RRL/ACL"}),": Response Rate Limiting & Access Control Lists \u0111\u1ec3 gi\u1ea3m thi\u1ec3u amplification/dga abuse."]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Amplification Attack"})," \u2013 v\xec sao?"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Truy v\u1ea5n nh\u1ecf \u2192 \u0111\xe1p l\u1edbn (\u0111\u1eb7c bi\u1ec7t v\u1edbi ",(0,s.jsx)(e.strong,{children:"ANY"}),", DNSSEC, EDNS0), k\u1ebb x\u1ea5u gi\u1ea3 m\u1ea1o ",(0,s.jsx)(e.strong,{children:"source IP"})," c\u1ee7a n\u1ea1n nh\xe2n."]}),"\n",(0,s.jsx)(e.li,{children:"Gi\u1ea3m thi\u1ec3u: t\u1eaft open recursion, RRL, h\u1ea1n ch\u1ebf ANY, BCP-38 (ingress filtering)."}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"8-tooling--troubleshooting-dignslookupdrillkdig",children:"8 Tooling & Troubleshooting (dig/nslookup/drill/kdig)"}),"\n",(0,s.jsxs)(e.p,{children:["C\xe1c l\u1ec7nh m\u1eabu (Linux/macOS; tr\xean Windows d\xf9ng ",(0,s.jsx)(e.code,{children:"nslookup"})," ho\u1eb7c PowerShell ",(0,s.jsx)(e.code,{children:"Resolve-DnsName"}),"):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Truy v\u1ea5n A & theo d\xf5i \u0111\u01b0\u1eddng \u0111i (trace t\u1eeb root)\ndig +trace example.com A\n\n# Truy v\u1ea5n c\u1ee5 th\u1ec3 \u0111\u1ebfn 1 NS\ndig @8.8.8.8 example.com A\n\n# MX, NS, TXT\ndig example.com MX\ndig example.com NS\ndig example.com TXT\n\n# Ki\u1ec3m tra DNSSEC\ndig example.com A +dnssec\ndig example.com DS +dnssec\n\n# Ki\u1ec3m tra CAA\ndig example.com CAA\n\n# Ki\u1ec3m tra reverse (PTR) cho IPv4\ndig -x 203.0.113.30\n\n# EDNS0, k\xedch th\u01b0\u1edbc UDP, v\xe0 fallback TCP\ndig example.com A +edns=0 +bufsize=1232 +tcp\n\n# Windows PowerShell\nResolve-DnsName example.com -Type A\nResolve-DnsName example.com -Type MX\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Tr\u01b0\u1eddng h\u1ee3p th\u01b0\u1eddng g\u1eb7p"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u201cPropagation ch\u1eadm\u201d: do cache c\xf2n h\u1ea1n, TTL l\u1edbn, resolver trung gian."}),"\n",(0,s.jsxs)(e.li,{children:["\u201cEmail kh\xf4ng \u0111\u1ebfn\u201d: thi\u1ebfu/b\u1ecb sai ",(0,s.jsx)(e.strong,{children:"MX/SPF/DKIM/DMARC"}),"; PTR kh\xf4ng kh\u1edbp IP g\u1eedi."]}),"\n",(0,s.jsxs)(e.li,{children:["\u201cKh\xf4ng tr\u1ecf CNAME \u1edf apex\u201d: d\xf9ng ",(0,s.jsx)(e.strong,{children:"ALIAS/ANAME"})," c\u1ee7a provider, ho\u1eb7c chuy\u1ec3n qua A/AAAA."]}),"\n",(0,s.jsx)(e.li,{children:"\u201cNXDOMAIN vs NODATA\u201d: domain kh\xf4ng t\u1ed3n t\u1ea1i vs t\u1ed3n t\u1ea1i nh\u01b0ng kh\xf4ng c\xf3 record query type."}),"\n",(0,s.jsx)(e.li,{children:"\u201cGlue l\u1ed7i th\u1eddi\u201d: thay NS/host m\xe0 qu\xean c\u1eadp nh\u1eadt A/AAAA t\u01b0\u01a1ng \u1ee9ng \u1edf zone cha."}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"9-th\u1ef1c-ti\u1ec5n-t\u1ed1t-best-practices",children:"9 Th\u1ef1c ti\u1ec5n t\u1ed1t (Best Practices)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Thi\u1ebft k\u1ebf TTL h\u1ee3p l\xfd"}),": 300\u20133600s cho d\u1ecbch v\u1ee5 \u0111\u1ed9ng; cao h\u01a1n cho b\u1ea3n ghi \u1ed5n \u0111\u1ecbnh (NS/SOA c\xe2n nh\u1eafc)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"B\u1ea3o v\u1ec7 zone transfer"}),": ch\u1ec9 cho ph\xe9p AXFR/IXFR v\u1edbi secondary \u0111\xe3 x\xe1c th\u1ef1c (TSIG/ACL/VPN)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Gi\u1ea3m t\u1ea5n c\xf4ng"}),": t\u1eaft open recursion, b\u1eadt RRL, l\u1ecdc ANY, theo d\xf5i log."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Email hygiene"}),": tri\u1ec3n khai ",(0,s.jsx)(e.strong,{children:"SPF, DKIM, DMARC"}),", reverse PTR ph\xf9 h\u1ee3p."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Gi\xe1m s\xe1t"}),": health-check authoritative, theo d\xf5i ",(0,s.jsx)(e.strong,{children:"serial"})," t\u0103ng \u0111\u1ec1u (SOA)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Anycast authoritative/recursive"})," \u0111\u1ec3 t\u0103ng SLA, gi\u1ea3m latency khu v\u1ef1c."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"IaC cho DNS"}),": qu\u1ea3n l\xfd zone b\u1eb1ng GitOps/Terraform/OctoDNS \u0111\u1ec3 review/rollback d\u1ec5 d\xe0ng."]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"10-ph\u1ee5-l\u1ee5c-s\u01a1-\u0111\u1ed3-t\u1ed5ng-quan",children:"10 Ph\u1ee5 l\u1ee5c: S\u01a1 \u0111\u1ed3 t\u1ed5ng quan"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ascii",children:"                         +----------------------+\n                         |     Root (.) NS      |\n                         +----------+-----------+\n                                    |\n                                  (referral)\n                                    |\n                          +---------v----------+\n                          |      .com  NS      |\n                          +---------+----------+\n                                    |\n                                  (referral)\n                                    |\n                     +--------------v---------------+\n                     |  Authoritative NS (example)  |\n                     +--------------+---------------+\n                                    |\n                                 (answer)\n                                    |\n     +-----------+         +--------v--------+\n     |  Client   |  ---\x3e   | Recursive/Caching|\n     | (Stub Res)|         |    Resolver      |\n     +-----------+         +------------------+\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"t\xf3m-t\u1eaft",children:"T\xf3m t\u1eaft"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["DNS ph\xe2n gi\u1ea3i ",(0,s.jsx)(e.strong,{children:"t\xean \u2192 d\u1eef li\u1ec7u"})," (ph\u1ed5 bi\u1ebfn nh\u1ea5t l\xe0 ",(0,s.jsx)(e.strong,{children:"IP"}),"), d\u1ef1a tr\xean h\u1ec7 th\u1ed1ng ",(0,s.jsx)(e.strong,{children:"authoritative + caching"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["N\u1eafm ch\u1eafc ",(0,s.jsx)(e.strong,{children:"record types"}),", ",(0,s.jsx)(e.strong,{children:"TTL/cache"}),", ",(0,s.jsx)(e.strong,{children:"delegation/glue"}),", v\xe0 ",(0,s.jsx)(e.strong,{children:"b\u1ea3o m\u1eadt (DNSSEC/DoH/DoT/DoQ)"})," l\xe0 ch\xeca kho\xe1 \u0111\u1ec3 v\u1eadn h\xe0nh h\u1ec7 th\u1ed1ng hi\u1ec7n \u0111\u1ea1i."]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"note",children:(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"NOTE"})})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"T\xc0I LI\u1ec6U BUILD BY @GM Finn"})})," ",(0,s.jsx)(e.a,{href:"https://tienthien196.github.io/ecosys.portfolioBNJ/",children:"(truy c\u1eadp chi ti\u1ebft)"})]}),"\n"]})]})}function a(n={}){const{wrapper:e}={...(0,h.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>l,x:()=>t});var r=i(6540);const s={},h=r.createContext(s);function l(n){const e=r.useContext(h);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),r.createElement(h.Provider,{value:e},n.children)}}}]);